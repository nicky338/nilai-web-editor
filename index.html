<!DOCTYPE html><html>
<head>
  <title>üìö Rekapan Nilai Nicky</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #e0f7fa, #ffffff);
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #00796b;
      animation: fadeIn 1s ease-in;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #ffffff;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      animation: slideUp 0.8s ease;
    }
    .custom-select {
      position: relative;
      width: 200px;
      margin: 10px auto;
    }
    .custom-select select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background: #f0f0f0;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .custom-select select:hover {
      background: #e0f2f1;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #00796b;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #004d40;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      animation: fadeIn 0.8s ease;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    th {
      background-color: #b2ebf2;
    }
    .summary {
      margin-top: 20px;
      font-weight: bold;
      color: #004d40;
    }
    .fade {
      animation: fadeIn 0.8s ease;
    }
    .notif {
      background: #d4edda;
      color: #155724;
      padding: 10px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
      display: none;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body>
  <h1>üìö Rekapan Nilai Nicky</h1>
  <div class="container">
    <div class="custom-select">
      <label for="semester">Pilih Semester:</label>
      <select id="semester" onchange="loadMapel()">
        <option value="1">Semester 1</option>
        <option value="2">Semester 2</option>
        <option value="3">Semester 3</option>
        <option value="4">Semester 4</option>
        <option value="5">Semester 5</option>
        <option value="6">Semester 6</option>
      </select>
    </div>
    <div id="nilaiForm" class="fade"></div>
    <button onclick="simpanNilai()">üíæ Simpan Nilai</button>
    <div class="notif" id="notif">‚úÖ Nilai berhasil disimpan!</div>
    <div id="tabelNilai"></div>
    <div class="summary" id="summary"></div>
  </div>  <script>
    const semuaMapel = [
      "PENDIDIKAN AGAMA HINDU DAN BUDI PEKERTI",
      "PENDIDIKAN PANCASILA",
      "BAHASA INDONESIA",
      "MATEMATIKA (UMUM)",
      "BAHASA INGGRIS",
      "PENDIDIKAN JASMANI, OLAHRAGA, DAN KESEHATAN",
      "INFORMATIKA",
      "PRAKARYA DAN KEWIRAUSAHAAN",
      "MUATAN LOKAL POTENSI DAERAH",
      "SENI BUDAYA",
      "MATEMATIKA TINGKAT LANJUT (PILIHAN)",
      "BIOLOGI (PILIHAN)",
      "KIMIA (PILIHAN)",
      "FISIKA",
      "EKONOMI (PILIHAN)",
      "SEJARAH",
      "GEOGRAFI",
      "SOSIOLOGI"
    ];

    function getMapelBySemester(semester) {
      if (semester <= 2) return semuaMapel;
      return semuaMapel.filter(m => !m.includes("PILIHAN") || ["EKONOMI (PILIHAN)", "MATEMATIKA TINGKAT LANJUT", "KIMIA (PILIHAN)", "BIOLOGI (PILIHAN)"].includes(m));
    }

    function loadMapel() {
      const semester = parseInt(document.getElementById('semester').value);
      const mapelList = getMapelBySemester(semester);
      const formDiv = document.getElementById('nilaiForm');
      formDiv.innerHTML = '';
      mapelList.forEach(mapel => {
        formDiv.innerHTML += `
          <div>
            ${mapel}<br>
            <input type="number" id="${mapel}" placeholder="Masukkan nilai" min="0" max="100">
          </div>
        `;
      });
      loadTabelNilai();
    }

    function simpanNilai() {
      const semester = document.getElementById('semester').value;
      const mapelList = getMapelBySemester(parseInt(semester));
      const data = {};
      mapelList.forEach(mapel => {
        const val = parseFloat(document.getElementById(mapel).value);
        if (!isNaN(val)) data[mapel] = val;
      });
      localStorage.setItem(`nilai_semester_${semester}`, JSON.stringify(data));
      loadTabelNilai();
      const notif = document.getElementById("notif");
      notif.style.display = "block";
      setTimeout(() => notif.style.display = "none", 2500);
    }

    function loadTabelNilai() {
      const semester = document.getElementById('semester').value;
      const data = JSON.parse(localStorage.getItem(`nilai_semester_${semester}`)) || {};
      let html = '<table><tr><th>Mapel</th><th>Nilai</th></tr>';
      let total = 0, tertinggi = -1, terendah = 999, mapelTinggi = '', mapelRendah = '', jumlah = 0;
      for (const mapel in data) {
        const nilai = data[mapel];
        total += nilai;
        if (nilai > tertinggi) { tertinggi = nilai; mapelTinggi = mapel; }
        if (nilai < terendah) { terendah = nilai; mapelRendah = mapel; }
        html += `<tr><td>${mapel}</td><td>${nilai}</td></tr>`;
        jumlah++;
      }
      html += '</table>';
      document.getElementById('tabelNilai').innerHTML = html;
      let rata2 = jumlah > 0 ? (total / jumlah).toFixed(2) : '-';
      document.getElementById('summary').innerText = jumlah > 0 ?
        `üìä Rata-rata: ${rata2}\nüèÜ Tertinggi: ${mapelTinggi} (${tertinggi})\nüíî Terendah: ${mapelRendah} (${terendah})` : '';
    }

    window.onload = loadMapel;
  </script></body>
</html>